# Stiletto

The implmentation is just in this [one file](https://github.com/vinc3m1/stiletto/blob/master/library/src/main/kotlin/stiletto/Stiletto.kt), which you can probably just copy to your codebase. The interesting parts are in the usage.

**Modules** are just [interfaces](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/ApplicationModule.kt) with stateless "provider" functions and wrapped with [`singleton`](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/data/DataModule.kt#L13) (and an optional [tag](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/data/DataModule.kt#L17)) if needed.

Module dependencies are defined by [abstract properties](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/ApplicationModule.kt#L11) to be passed in as [contructor params](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/ApplicationComponent.kt#L6), or [abstract methods](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/data/DataModule.kt#L11) to be fulfilled by other modules. Unfulfilled dependencies are thus checked compile time when creating the component.

[**Components**](https://github.com/vinc3m1/stiletto/blob/master/sample/src/main/kotlin/com/makeramen/stiletto/sample/ApplicationComponent.kt) are simply classes that use "multiple inheritance" of the Module interfaces and inherit [some abstract behavior](https://github.com/vinc3m1/stiletto/blob/master/library/src/main/kotlin/stiletto/Stiletto.kt#L17) to handle holding singletons. In most cases as in the example, they shouldn't contain any implmentation as that's already provided by the Module functions.
